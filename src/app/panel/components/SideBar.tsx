"use client";

import Image from "next/image";
import Link from "next/link";
import { usePathname } from "next/navigation";
import React, { FC } from "react";

interface SideBarProps {
  color?: string;
  sideBarStatus?: boolean;
  setSideBarStatus: React.Dispatch<React.SetStateAction<boolean>>;
  navItem: {
    title: string;
    link: string;
    icon: string;
  }[];
}

const SideBar: FC<SideBarProps> = ({
  color = "#02E996",
  navItem = [],
  sideBarStatus = false,
  setSideBarStatus = () => {},
}) => {
  const pathname = usePathname();

  return (
    <aside
      className={`${
        sideBarStatus ? "w-[250px]" : "w-[100px]"
      } h-screen overflow-x-hidden overflow-y-auto bg-[var(--primary)] relative transition-all ease-in-out duration-200`}
    >
      <div className="h-full flex flex-wrap flex-col p-4 py-6">
        <div>
          <svg
            className="w-[65px]"
            width="79"
            height="29"
            viewBox="0 0 79 29"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M12.1168 28.737C15.1676 28.737 17.6407 28.1683 17.6407 27.4667C17.6407 26.765 15.1676 26.1963 12.1168 26.1963C9.06595 26.1963 6.59277 26.765 6.59277 27.4667C6.59277 28.1683 9.06595 28.737 12.1168 28.737Z"
              fill="white"
            />
            <path
              d="M5.82803 9.6334C5.90028 9.59125 5.97855 9.55212 6.05381 9.516C5.80395 9.41364 5.56613 9.3143 5.33735 9.21797L5.31928 9.21195C4.29878 8.75739 2.51063 7.9175 1.01147 6.9873C1.35465 9.26313 1.98984 12.0326 3.1729 14.8022C3.78099 15.35 4.54261 15.6993 5.35541 15.8046C5.34035 15.7896 5.32229 15.7775 5.30724 15.7655C4.34694 14.8985 3.85325 13.6402 3.98871 12.3999C4.11515 11.2349 4.78645 10.2295 5.82803 9.63641V9.6334Z"
              fill="white"
            />
            <path
              d="M7.68244 11.1741C7.61621 11.168 7.54998 11.165 7.48376 11.165C7.21885 11.165 6.97501 11.2192 6.78837 11.3276C6.28865 11.6106 5.98159 12.0651 5.9244 12.607C5.85516 13.2271 6.11405 13.8653 6.61076 14.3139C7.33926 14.9701 8.4561 15.4066 10.0155 15.6444C10.0636 15.512 10.1088 15.3855 10.1479 15.2772C10.452 14.4132 10.3105 13.3897 9.77162 12.5408C9.2719 11.7581 8.5133 11.2584 7.68244 11.1741Z"
              fill="white"
            />
            <path
              d="M9.72339 23.586C9.81972 23.6612 9.91605 23.7335 10.0094 23.8057C10.6656 24.2964 11.367 24.76 12.1196 25.1845C14.1817 24.0165 15.8765 22.5685 17.2673 20.967C15.4461 18.8838 12.9535 18.0831 11.5236 17.782H5.87917C5.44568 17.782 5.01821 17.7339 4.60278 17.6436C5.40655 19.0223 6.37588 20.3619 7.53787 21.5931C8.20316 22.2945 8.92865 22.9628 9.72339 23.583V23.586Z"
              fill="white"
            />
            <path
              d="M12.1859 15.8282C13.5646 15.8553 15.0216 15.8282 16.3402 15.4459C17.46 15.1208 18.3782 14.3682 18.6762 13.5313C18.899 12.9082 18.7815 12.2579 18.327 11.5956C17.743 10.7497 16.7977 10.3885 15.7953 10.6323C15.5966 10.6805 15.4009 10.7317 15.2083 10.7798C13.962 11.0989 12.6766 11.4301 11.1804 11.1501C11.2647 11.2615 11.343 11.3759 11.4182 11.4933C12.2551 12.8118 12.4779 14.4224 12.0203 15.8222C12.0745 15.8222 12.1317 15.8252 12.1889 15.8252L12.1859 15.8282Z"
              fill="white"
            />
            <path
              d="M6.10504 7.42653C7.54398 8.03462 9.44351 8.7842 11.4123 9.21167C12.5351 9.45551 13.5496 9.19662 14.7237 8.89257C14.8983 8.84742 15.0789 8.80226 15.2565 8.75711C16.9543 8.33566 18.7876 8.93773 19.8262 10.3466C20.7173 11.5537 20.9581 12.9234 20.5096 14.1817C20.0008 15.6117 18.61 16.8098 16.8821 17.3125C16.6292 17.3878 16.3733 17.445 16.1175 17.4992C16.9333 17.9929 17.7461 18.619 18.4866 19.4137C24.0166 11.6922 23.5952 1.62559 23.5952 1.62559C19.9406 3.23312 16.0271 0 12.1137 0C8.36581 0 4.61491 3.29934 1.08679 1.81825L0.632225 1.6286C0.632225 1.6286 0.587069 2.70931 0.722534 4.43123C1.61962 5.16877 3.83524 6.41806 6.10504 7.42954V7.42653Z"
              fill="white"
            />
            <path
              d="M17.4359 19.1792C16.9543 18.7427 16.3823 18.3604 15.6899 18.0082C14.9674 17.6379 14.1607 17.3188 13.2546 17.0328C14.4045 17.0208 15.5846 16.9275 16.7074 16.6023C18.2096 16.1658 19.4107 15.1423 19.8442 13.9291C20.2115 12.8996 20.0188 11.8159 19.2873 10.8044C18.4203 9.60629 16.867 9.10657 15.4341 9.46179C15.2655 9.50394 15.0969 9.54608 14.9313 9.58823C13.682 9.91033 12.6043 10.1873 11.3279 9.91033C9.31703 9.47383 7.38739 8.71222 5.9364 8.09811C3.98871 7.22511 0.776669 5.66574 0.4365 5.20215L0 5.52125C0.52079 6.23771 4.85268 8.20648 5.71966 8.59481C7.19774 9.21795 9.15748 9.99462 11.2135 10.4402C12.6134 10.7442 13.8055 10.4402 15.0668 10.112C15.2414 10.0669 15.416 10.0217 15.5936 9.97957C16.867 9.6665 18.2246 10.1662 18.9471 11.259C19.489 12.0778 19.6245 12.9357 19.3355 13.7455C18.9622 14.7961 17.8965 15.6902 16.5569 16.0815C15.1601 16.4879 13.6519 16.518 12.228 16.4879C11.8638 16.4819 11.4905 16.4609 11.1082 16.4277C11.2376 16.0785 11.3851 15.6631 11.3881 15.6541C11.8156 14.4409 11.629 13.026 10.8944 11.8671C10.196 10.7653 9.1063 10.0639 7.90216 9.94345C7.3031 9.88324 6.74017 9.9886 6.27958 10.2505C5.43067 10.7322 4.90687 11.5179 4.8015 12.4631C4.69313 13.4716 5.09652 14.4981 5.88523 15.2085C6.59567 15.8498 7.4777 16.2411 8.3507 16.497H5.98758C4.53659 16.497 3.31439 15.9461 2.45343 14.9045L2.038 15.2477C3.00433 16.4187 4.37103 17.0358 5.98758 17.0358H10.8403C11.0811 17.0358 11.3219 17.0629 11.5567 17.1171C11.8548 17.1863 12.1769 17.2706 12.5441 17.376C13.6579 17.6951 14.6062 18.0593 15.4461 18.4868C16.0933 18.818 16.6262 19.1732 17.0747 19.5766C17.5202 19.9769 17.9236 20.4887 18.3511 21.1871L18.8117 20.9071C18.3571 20.1636 17.9206 19.6127 17.4359 19.1762V19.1792ZM10.8794 15.4795C10.8102 15.6751 10.6596 16.0936 10.5543 16.3766C8.54337 16.1448 7.17667 15.645 6.24948 14.8112C5.59021 14.2181 5.25005 13.3632 5.34036 12.5263C5.42465 11.7587 5.85212 11.1205 6.54751 10.7261C6.83951 10.5606 7.20075 10.4733 7.58608 10.4733C7.67338 10.4733 7.76068 10.4763 7.85099 10.4853C8.88655 10.5907 9.83179 11.2018 10.4399 12.1621C11.0871 13.1826 11.2527 14.4228 10.8794 15.4795Z"
              fill={color}
            />
            <path
              d="M75.5267 18.1368C74.9547 19.7383 73.3653 21.0959 71.3845 21.6679C69.7769 22.1375 68.0911 22.2459 66.4565 22.2459H57.3683C55.5621 22.2459 53.8492 21.5445 52.5638 20.3042C51.7389 21.102 50.7365 21.6619 49.6497 21.9719C49.6106 21.984 49.5715 21.999 49.5263 22.0111V22.0051C48.9543 22.1526 48.3613 22.2429 47.7562 22.2429H44.3726C41.6452 22.2429 39.4326 20.0242 39.4326 17.3029V5.28558H40.2815V17.3029C40.2815 19.5546 42.1148 21.394 44.3726 21.394H47.7562C48.3222 21.394 48.8701 21.3097 49.3969 21.1561C51.0706 20.6414 52.3952 19.5155 52.8708 18.1909C53.2441 17.1343 53.0575 16.0054 52.3169 14.9368C51.6877 14.0246 50.7726 13.4316 49.731 13.272C49.6798 13.272 47.3197 13.2028 45.9741 11.7729C45.4262 11.1859 45.1252 10.4664 45.08 9.62349C44.779 9.63554 44.4749 9.64156 44.1739 9.64156C43.918 9.64156 43.6712 9.63554 43.4213 9.62952V8.7806C45.0559 8.81371 46.7779 8.77458 48.3734 8.31098C50.002 7.83535 51.3385 6.73657 51.775 5.51437C52.0911 4.61428 51.9406 3.70515 51.3175 2.79904L52.0189 2.31738C52.7956 3.44325 52.9852 4.64739 52.5728 5.79734C52.04 7.29048 50.5258 8.56987 48.6112 9.12378C47.7412 9.37966 46.8411 9.50308 45.941 9.56931C45.9741 10.2075 46.1908 10.7584 46.5912 11.1889C47.699 12.3659 49.7882 12.4291 49.8063 12.4291C51.1369 12.6278 52.2567 13.3443 53.0213 14.4491C53.9214 15.7556 54.1472 17.1494 53.6716 18.4769C53.5301 18.8683 53.3254 19.2476 53.0785 19.6028C54.2104 20.7407 55.7487 21.3909 57.3743 21.3909H59.9993C59.0029 21.0508 58.0125 20.5691 57.1997 19.8346C56.1581 18.8954 55.6163 17.5829 55.7577 16.3215C55.8872 15.1234 56.5826 14.1089 57.7145 13.4707C58.3256 13.1185 59.0721 12.977 59.8759 13.0583C61.4654 13.2239 62.9073 14.1511 63.8315 15.6051C64.8038 17.1313 65.0477 19.0068 64.4817 20.6083L63.684 20.3253C64.1596 18.9676 63.9489 17.3721 63.112 16.0596C62.3323 14.8254 61.1192 14.0397 59.7856 13.9102C59.1745 13.847 58.5875 13.9554 58.1329 14.2113C57.2448 14.714 56.697 15.5027 56.6006 16.4179C56.4923 17.4083 56.9288 18.4559 57.7656 19.2084C58.9638 20.2892 60.7429 20.9334 63.3559 21.2344C63.8887 21.2976 64.4035 21.3368 64.9122 21.3578L68.5066 21.3187C69.4006 21.2465 70.2947 21.108 71.1557 20.8551C72.8806 20.3584 74.2503 19.2024 74.732 17.8568C75.1113 16.8002 74.9246 15.6683 74.1841 14.5966C73.2388 13.2209 71.6433 12.6158 70.0208 13.0131C69.7619 13.0764 69.506 13.1426 69.2501 13.2058C67.5974 13.6303 66.0321 14.0306 64.1867 13.6363C61.5045 13.0523 58.9427 12.0408 57.007 11.225L57.3412 10.4393C59.2377 11.2431 61.7483 12.2395 64.3673 12.8054C66.014 13.1607 67.4168 12.7994 69.0424 12.387C69.2983 12.3178 69.5572 12.2515 69.8191 12.1883C71.7939 11.7067 73.7355 12.4442 74.8885 14.1179C75.7886 15.4244 76.0083 16.8182 75.5387 18.1398L75.5267 18.1368Z"
              fill={color}
            />
            <path
              d="M34.4083 18.4231C34.8177 17.2702 34.628 16.066 33.8544 14.9432C33.0145 13.721 31.9277 13.14 30.4948 13.149C30.257 13.149 30.0342 13.1882 29.8145 13.2243C29.7121 13.2423 29.6098 13.2574 29.5044 13.2724C27.8848 13.4741 27.1353 13.2122 25.9673 12.5078L25.5277 13.2333C26.8192 14.016 27.7614 14.3471 29.6098 14.1153C29.7272 14.1003 29.8416 14.0822 29.953 14.0642C30.1486 14.031 30.3323 14.0009 30.5008 14.0009C31.6237 13.9769 32.4756 14.4435 33.153 15.4278C33.7761 16.331 33.9266 17.2431 33.6075 18.1402C33.171 19.3624 31.8374 20.4612 30.2088 20.9338C28.5863 21.4064 26.8312 21.4395 25.1665 21.4064L25.1484 22.2553C25.4314 22.2613 25.7174 22.2644 26.0064 22.2644C27.4754 22.2644 28.9957 22.168 30.4436 21.7496C32.3552 21.1927 33.8724 19.9193 34.4053 18.4262L34.4083 18.4231Z"
              fill={color}
            />
            <path
              d="M50.1372 4.69873C49.7639 5.7674 48.626 6.67954 47.166 7.07389C46.1094 7.35686 45.0046 7.42008 43.9359 7.42008C43.7613 7.42008 43.5897 7.42008 43.4211 7.41406V6.56514C44.5861 6.58922 45.8144 6.55912 46.9463 6.25508C48.1233 5.93899 49.0565 5.21952 49.3335 4.41575C49.5201 3.89496 49.4057 3.3531 49.0053 2.82027L49.6887 2.31152C50.4082 3.27785 50.3269 4.14482 50.1342 4.69873H50.1372Z"
              fill={color}
            />
            <path
              d="M77.7783 13.3115L77.0799 13.7932C77.8867 14.9642 78.0583 16.8156 77.5194 18.5074C77.1702 19.6001 76.222 21.5689 73.7836 22.46C73.7234 22.481 73.6692 22.5051 73.606 22.5352C73.3681 22.6406 72.9286 22.8393 70.8726 23.2487L71.0381 24.0825C73.1875 23.6551 73.6662 23.4383 73.9521 23.3119C73.9973 23.2908 74.0334 23.2758 74.0756 23.2607C76.1045 22.5202 77.6549 20.8825 78.3292 18.7693C78.9553 16.8065 78.7446 14.7174 77.7813 13.3145L77.7783 13.3115Z"
              fill={color}
            />
            <path
              d="M36.0187 13.7931C36.8255 14.9641 36.9971 16.8155 36.4582 18.5073C36.109 19.6001 35.1608 21.5688 32.7224 22.4599C32.6622 22.481 32.608 22.505 32.5417 22.5351C32.3039 22.6405 31.8644 22.8392 29.8083 23.2486L29.9739 24.0825C32.1233 23.655 32.602 23.4383 32.8879 23.3118C32.9331 23.2907 32.9692 23.2757 33.0114 23.2606C35.0403 22.5201 36.5907 20.8825 37.265 18.7692C37.8911 16.8065 37.6804 14.7173 36.7141 13.3145L36.0157 13.7961L36.0187 13.7931Z"
              fill={color}
            />
          </svg>
        </div>

        <div className="mb-16 mt-3">
          <button
            className=" absolute left-0 cursor-pointer"
            type="button"
            onClick={() => {
              setSideBarStatus(!sideBarStatus);
            }}
          >
            <svg
              width="19"
              height="70"
              viewBox="0 0 19 70"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M-8.2832e-07 1.67965C-1.52405e-07 -13.7835 -4.38235e-06 82.9864 -3.75004e-06 68.5207C-3.11772e-06 54.055 19 53 19 36.0977C19 19.1954 -1.50423e-06 17.1428 -8.2832e-07 1.67965Z"
                fill={color}
              />
            </svg>

            <svg
              className={`absolute top-[27px] left-[1px] ${
                !sideBarStatus ? "-scale-x-100" : "scale-x-100"
              }`}
              width="16"
              height="16"
              viewBox="0 0 16 16"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M5.93994 13.2802L10.2866 8.93355C10.7999 8.42021 10.7999 7.58022 10.2866 7.06688L5.93994 2.72021"
                stroke="#292D32"
                strokeWidth="1.5"
                strokeMiterlimit="10"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
            </svg>
          </button>
        </div>

        <nav>
          <ul className="my-4 space-y-6">
            {navItem.map((e, i) => (
              <li key={i}>
                {pathname === e.link && (
                  <svg
                    className=" absolute right-0 h-[50px] mt-[-2px]"
                    width="10"
                    height="71"
                    viewBox="0 0 10 71"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M10 1.68368C10 -13.8162 10 83.1838 10 68.6837C10 54.1836 -9.42265e-07 48.61 -1.48544e-06 36.1836C-2.02862e-06 23.7572 10 17.1836 10 1.68368Z"
                      fill={color}
                    />
                  </svg>
                )}
                <Link
                  href={e.link}
                  className="text-[15px] mr-3 flex items-center whitespace-nowrap"
                >
                  <div
                    className={`w-[44px] h-[44px] rounded-full inline-flex ml-3 justify-center items-center flex-col`}
                    style={{
                      backgroundColor: pathname === e.link ? color : "#2D2D2D",
                    }}
                  >
                    <Image
                      src={e.icon}
                      alt={e.title}
                      width={60}
                      height={60}
                      className={`w-[18px] h-[18px] ${
                        pathname === e.link ? "invert-100 brightness-0" : ""
                      }`}
                    />
                  </div>
                  <span
                    className={`whitespace-nowrap ${
                      !sideBarStatus ? "opacity-0" : " opacity-100"
                    } transition-all ease-in-out duration-200`}
                  >
                    {e.title}
                  </span>
                </Link>
              </li>
            ))}
          </ul>
        </nav>

        <div className="mt-auto">
          <button
            className="text-[15px] mr-3 flex items-center whitespace-nowrap"
            type="button"
          >
            <Image
              src={"/assets/img/salar.jpg"}
              alt="profile"
              width={40}
              height={40}
              className="rounded-full ml-3"
            />
            <span
              title="سالار ریسمان تاب ثانی"
              className={`whitespace-nowrap max-w-[100px] overflow-hidden text-ellipsis ${
                !sideBarStatus ? "opacity-0" : " opacity-100"
              }`}
            >
              سالار ریسمان تاب ثانی
            </span>
          </button>
        </div>
      </div>
    </aside>
  );
};

export default SideBar;
